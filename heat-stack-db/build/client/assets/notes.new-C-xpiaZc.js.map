{"version":3,"file":"notes.new-C-xpiaZc.js","sources":["../../../app/routes/users+/$username_+/__note-editor.tsx"],"sourcesContent":["import {\n\tFormProvider,\n\tgetFieldsetProps,\n\tgetFormProps,\n\tgetInputProps,\n\tgetTextareaProps,\n\tuseForm,\n\ttype FieldMetadata,\n} from '@conform-to/react'\nimport { getZodConstraint, parseWithZod } from '@conform-to/zod'\nimport { type Note, type NoteImage } from '@prisma/client'\nimport { type SerializeFrom } from '@remix-run/node'\nimport { Form, useActionData } from '@remix-run/react'\nimport { useState } from 'react'\nimport { z } from 'zod'\nimport { GeneralErrorBoundary } from '#app/components/error-boundary.tsx'\nimport { floatingToolbarClassName } from '#app/components/floating-toolbar.tsx'\nimport { ErrorList, Field, TextareaField } from '#app/components/forms.tsx'\nimport { Button } from '#app/components/ui/button.tsx'\nimport { Icon } from '#app/components/ui/icon.tsx'\nimport { Label } from '#app/components/ui/label.tsx'\nimport { StatusButton } from '#app/components/ui/status-button.tsx'\nimport { Textarea } from '#app/components/ui/textarea.tsx'\nimport { cn, getNoteImgSrc, useIsPending } from '#app/utils/misc.tsx'\nimport { type action } from './__note-editor.server'\n\nconst titleMinLength = 1\nconst titleMaxLength = 100\nconst contentMinLength = 1\nconst contentMaxLength = 10000\n\nexport const MAX_UPLOAD_SIZE = 1024 * 1024 * 3 // 3MB\n\nconst ImageFieldsetSchema = z.object({\n\tid: z.string().optional(),\n\tfile: z\n\t\t.instanceof(File)\n\t\t.optional()\n\t\t.refine(file => {\n\t\t\treturn !file || file.size <= MAX_UPLOAD_SIZE\n\t\t}, 'File size must be less than 3MB'),\n\taltText: z.string().optional(),\n})\n\nexport type ImageFieldset = z.infer<typeof ImageFieldsetSchema>\n\nexport const NoteEditorSchema = z.object({\n\tid: z.string().optional(),\n\ttitle: z.string().min(titleMinLength).max(titleMaxLength),\n\tcontent: z.string().min(contentMinLength).max(contentMaxLength),\n\timages: z.array(ImageFieldsetSchema).max(5).optional(),\n})\n\nexport function NoteEditor({\n\tnote,\n}: {\n\tnote?: SerializeFrom<\n\t\tPick<Note, 'id' | 'title' | 'content'> & {\n\t\t\timages: Array<Pick<NoteImage, 'id' | 'altText'>>\n\t\t}\n\t>\n}) {\n\tconst actionData = useActionData<typeof action>()\n\tconst isPending = useIsPending()\n\n\tconst [form, fields] = useForm({\n\t\tid: 'note-editor',\n\t\tconstraint: getZodConstraint(NoteEditorSchema),\n\t\tlastResult: actionData?.result,\n\t\tonValidate({ formData }) {\n\t\t\treturn parseWithZod(formData, { schema: NoteEditorSchema })\n\t\t},\n\t\tdefaultValue: {\n\t\t\t...note,\n\t\t\timages: note?.images ?? [{}],\n\t\t},\n\t\tshouldRevalidate: 'onBlur',\n\t})\n\tconst imageList = fields.images.getFieldList()\n\n\treturn (\n\t\t<div className=\"absolute inset-0\">\n\t\t\t<FormProvider context={form.context}>\n\t\t\t\t<Form\n\t\t\t\t\tmethod=\"POST\"\n\t\t\t\t\tclassName=\"flex h-full flex-col gap-y-4 overflow-y-auto overflow-x-hidden px-10 pb-28 pt-12\"\n\t\t\t\t\t{...getFormProps(form)}\n\t\t\t\t\tencType=\"multipart/form-data\"\n\t\t\t\t>\n\t\t\t\t\t{/*\n\t\t\t\t\tThis hidden submit button is here to ensure that when the user hits\n\t\t\t\t\t\"enter\" on an input field, the primary form function is submitted\n\t\t\t\t\trather than the first button in the form (which is delete/add image).\n\t\t\t\t*/}\n\t\t\t\t\t<button type=\"submit\" className=\"hidden\" />\n\t\t\t\t\t{note ? <input type=\"hidden\" name=\"id\" value={note.id} /> : null}\n\t\t\t\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabelProps={{ children: 'Title' }}\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tautoFocus: true,\n\t\t\t\t\t\t\t\t...getInputProps(fields.title, { type: 'text' }),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terrors={fields.title.errors}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextareaField\n\t\t\t\t\t\t\tlabelProps={{ children: 'Content' }}\n\t\t\t\t\t\t\ttextareaProps={{\n\t\t\t\t\t\t\t\t...getTextareaProps(fields.content),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terrors={fields.content.errors}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label>Images</Label>\n\t\t\t\t\t\t\t<ul className=\"flex flex-col gap-4\">\n\t\t\t\t\t\t\t\t{imageList.map((image, index) => {\n\t\t\t\t\t\t\t\t\tconsole.log('image.key', image.key)\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tkey={image.key}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"relative border-b-2 border-muted-foreground\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"absolute right-0 top-0 text-foreground-destructive\"\n\t\t\t\t\t\t\t\t\t\t\t\t{...form.remove.getButtonProps({\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: fields.images.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span aria-hidden>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name=\"cross-1\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</span>{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"sr-only\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tRemove image {index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<ImageChooser meta={image} />\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"mt-3\"\n\t\t\t\t\t\t\t{...form.insert.getButtonProps({ name: fields.images.name })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span aria-hidden>\n\t\t\t\t\t\t\t\t<Icon name=\"plus\">Image</Icon>\n\t\t\t\t\t\t\t</span>{' '}\n\t\t\t\t\t\t\t<span className=\"sr-only\">Add image</span>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ErrorList id={form.errorId} errors={form.errors} />\n\t\t\t\t</Form>\n\t\t\t\t<div className={floatingToolbarClassName}>\n\t\t\t\t\t<Button variant=\"destructive\" {...form.reset.getButtonProps()}>\n\t\t\t\t\t\tReset\n\t\t\t\t\t</Button>\n\t\t\t\t\t<StatusButton\n\t\t\t\t\t\tform={form.id}\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tdisabled={isPending}\n\t\t\t\t\t\tstatus={isPending ? 'pending' : 'idle'}\n\t\t\t\t\t>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</StatusButton>\n\t\t\t\t</div>\n\t\t\t</FormProvider>\n\t\t</div>\n\t)\n}\n\nfunction ImageChooser({ meta }: { meta: FieldMetadata<ImageFieldset> }) {\n\tconst fields = meta.getFieldset()\n\tconst existingImage = Boolean(fields.id.initialValue)\n\tconst [previewImage, setPreviewImage] = useState<string | null>(\n\t\tfields.id.initialValue ? getNoteImgSrc(fields.id.initialValue) : null,\n\t)\n\tconst [altText, setAltText] = useState(fields.altText.initialValue ?? '')\n\n\treturn (\n\t\t<fieldset {...getFieldsetProps(meta)}>\n\t\t\t<div className=\"flex gap-3\">\n\t\t\t\t<div className=\"w-32\">\n\t\t\t\t\t<div className=\"relative h-32 w-32\">\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\thtmlFor={fields.file.id}\n\t\t\t\t\t\t\tclassName={cn('group absolute h-32 w-32 rounded-lg', {\n\t\t\t\t\t\t\t\t'bg-accent opacity-40 focus-within:opacity-100 hover:opacity-100':\n\t\t\t\t\t\t\t\t\t!previewImage,\n\t\t\t\t\t\t\t\t'cursor-pointer focus-within:ring-2': !existingImage,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{previewImage ? (\n\t\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc={previewImage}\n\t\t\t\t\t\t\t\t\t\talt={altText ?? ''}\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-32 w-32 rounded-lg object-cover\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{existingImage ? null : (\n\t\t\t\t\t\t\t\t\t\t<div className=\"pointer-events-none absolute -right-0.5 -top-0.5 rotate-12 rounded-sm bg-secondary px-2 py-1 text-xs text-secondary-foreground shadow-md\">\n\t\t\t\t\t\t\t\t\t\t\tnew\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"flex h-32 w-32 items-center justify-center rounded-lg border border-muted-foreground text-4xl text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t<Icon name=\"plus\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{existingImage ? (\n\t\t\t\t\t\t\t\t<input {...getInputProps(fields.id, { type: 'hidden' })} />\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\taria-label=\"Image\"\n\t\t\t\t\t\t\t\tclassName=\"absolute left-0 top-0 z-0 h-32 w-32 cursor-pointer opacity-0\"\n\t\t\t\t\t\t\t\tonChange={event => {\n\t\t\t\t\t\t\t\t\tconst file = event.target.files?.[0]\n\n\t\t\t\t\t\t\t\t\tif (file) {\n\t\t\t\t\t\t\t\t\t\tconst reader = new FileReader()\n\t\t\t\t\t\t\t\t\t\treader.onloadend = () => {\n\t\t\t\t\t\t\t\t\t\t\tsetPreviewImage(reader.result as string)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treader.readAsDataURL(file)\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetPreviewImage(null)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\t\t{...getInputProps(fields.file, { type: 'file' })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"min-h-[32px] px-4 pb-3 pt-1\">\n\t\t\t\t\t\t<ErrorList id={fields.file.errorId} errors={fields.file.errors} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t<Label htmlFor={fields.altText.id}>Alt Text</Label>\n\t\t\t\t\t<Textarea\n\t\t\t\t\t\tonChange={e => setAltText(e.currentTarget.value)}\n\t\t\t\t\t\t{...getTextareaProps(fields.altText)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"min-h-[32px] px-4 pb-3 pt-1\">\n\t\t\t\t\t\t<ErrorList\n\t\t\t\t\t\t\tid={fields.altText.errorId}\n\t\t\t\t\t\t\terrors={fields.altText.errors}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"min-h-[32px] px-4 pb-3 pt-1\">\n\t\t\t\t<ErrorList id={meta.errorId} errors={meta.errors} />\n\t\t\t</div>\n\t\t</fieldset>\n\t)\n}\n\nexport function ErrorBoundary() {\n\treturn (\n\t\t<GeneralErrorBoundary\n\t\t\tstatusHandlers={{\n\t\t\t\t404: ({ params }) => (\n\t\t\t\t\t<p>No note with the id \"{params.noteId}\" exists</p>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n"],"names":["titleMinLength","titleMaxLength","contentMinLength","contentMaxLength","MAX_UPLOAD_SIZE","ImageFieldsetSchema","z","file","NoteEditorSchema","NoteEditor","note","actionData","useActionData","isPending","useIsPending","form","fields","useForm","getZodConstraint","formData","parseWithZod","imageList","jsx","FormProvider","jsxs","Form","getFormProps","Field","getInputProps","TextareaField","getTextareaProps","Label","image","index","Icon","ImageChooser","Button","ErrorList","floatingToolbarClassName","StatusButton","meta","existingImage","previewImage","setPreviewImage","useState","getNoteImgSrc","altText","setAltText","getFieldsetProps","cn","event","_a","reader","Textarea","e"],"mappings":"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"}