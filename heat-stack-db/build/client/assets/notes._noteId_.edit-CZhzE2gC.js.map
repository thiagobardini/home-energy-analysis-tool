{"version":3,"file":"notes._noteId_.edit-CZhzE2gC.js","sources":["../../../app/routes/users+/$username_+/notes.$noteId_.edit.tsx"],"sourcesContent":["import { invariantResponse } from '@epic-web/invariant'\nimport { json, type LoaderFunctionArgs } from '@remix-run/node'\nimport { useLoaderData } from '@remix-run/react'\nimport { GeneralErrorBoundary } from '#app/components/error-boundary.tsx'\nimport { requireUserId } from '#app/utils/auth.server.ts'\nimport { prisma } from '#app/utils/db.server.ts'\nimport { NoteEditor } from './__note-editor.tsx'\n\nexport { action } from './__note-editor.server.tsx'\n\nexport async function loader({ params, request }: LoaderFunctionArgs) {\n\tconst userId = await requireUserId(request)\n\tconst note = await prisma.note.findFirst({\n\t\tselect: {\n\t\t\tid: true,\n\t\t\ttitle: true,\n\t\t\tcontent: true,\n\t\t\timages: {\n\t\t\t\tselect: {\n\t\t\t\t\tid: true,\n\t\t\t\t\taltText: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\twhere: {\n\t\t\tid: params.noteId,\n\t\t\townerId: userId,\n\t\t},\n\t})\n\tinvariantResponse(note, 'Not found', { status: 404 })\n\treturn json({ note: note })\n}\n\nexport default function NoteEdit() {\n\tconst data = useLoaderData<typeof loader>()\n\n\treturn <NoteEditor note={data.note} />\n}\n\nexport function ErrorBoundary() {\n\treturn (\n\t\t<GeneralErrorBoundary\n\t\t\tstatusHandlers={{\n\t\t\t\t404: ({ params }) => (\n\t\t\t\t\t<p>No note with the id \"{params.noteId}\" exists</p>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n"],"names":["NoteEdit","data","useLoaderData","jsx","NoteEditor","note","ErrorBoundary","GeneralErrorBoundary","statusHandlers","params","children","noteId"],"mappings":"gpBAiCA,SAAwBA,GAAW,CAClC,MAAMC,EAAOC,IAEb,OAAQC,EAAAA,IAAAC,EAAA,CAAWC,KAAMJ,EAAKI,IAAM,CAAA,CACrC,CAEO,SAASC,GAAgB,CAE9B,OAAAH,EAAAA,IAACI,EAAA,CACAC,eAAgB,CACf,IAAK,CAAC,CAAEC,OAAAA,CAAO,WACb,IAAE,CAAAC,SAAA,CAAA,wBAAsBD,EAAOE,OAAO,UAAA,EAAQ,CAEjD,CAAA,CACD,CAEF"}