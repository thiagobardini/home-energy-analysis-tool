import{j as e,r as x}from"./jsx-runtime-D1yySo7E.js";import{I as r}from"./icon-CC3MP7l8.js";import{S as u}from"./status-button-Bx4F4H9E.js";import{T as i,a as l,b as c,c as d}from"./tooltip-wwqaYhkn.js";import{p as h,P as j,a as f}from"./connections-Cz6fFBks.js";import{b as v,u as g}from"./components-C2HTMhgG.js";import"./misc-CxaYal_B.js";import"./index-CcD7lzrX.js";import"./button-xs8ZcSgc.js";import"./index-ikwP-usE.js";import"./index-DbU3sxCe.js";import"./index-BeXw7Xwl.js";const E={breadcrumb:e.jsx(r,{name:"link-2",children:"Connections"}),getSitemapEntries:()=>null};function Y(){const s=v();return e.jsxs("div",{className:"mx-auto max-w-md",children:[s.connections.length?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{children:"Here are your current connections:"}),e.jsx("ul",{className:"flex flex-col gap-4",children:s.connections.map(n=>e.jsx("li",{children:e.jsx(y,{connection:n,canDelete:s.canDeleteConnections})},n.id))})]}):e.jsx("p",{children:"You don't have any connections yet."}),e.jsx("div",{className:"mt-5 flex flex-col gap-5 border-b-2 border-t-2 border-border py-3",children:h.map(n=>e.jsx(j,{type:"Connect",providerName:n},n))})]})}function y({connection:s,canDelete:n}){var o;const t=g(),[m,a]=x.useState(!1),p=f[s.providerName];return e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[p,e.jsxs("span",{children:[s.link?e.jsx("a",{href:s.link,className:"underline",children:s.displayName}):s.displayName," ","(",s.createdAtFormatted,")"]})]}),n?e.jsxs(t.Form,{method:"POST",children:[e.jsx("input",{name:"connectionId",value:s.id,type:"hidden"}),e.jsx(i,{children:e.jsxs(l,{children:[e.jsx(c,{asChild:!0,children:e.jsx(u,{name:"intent",value:"delete-connection",variant:"destructive",size:"sm",status:t.state!=="idle"?"pending":((o=t.data)==null?void 0:o.status)??"idle",children:e.jsx(r,{name:"cross-1"})})}),e.jsx(d,{children:"Disconnect this account"})]})})]}):e.jsx(i,{children:e.jsxs(l,{open:m,onOpenChange:a,children:[e.jsx(c,{onClick:()=>a(!0),children:e.jsx(r,{name:"question-mark-circled"})}),e.jsx(d,{children:"You cannot delete your last connection unless you have a password."})]})})]})}export{Y as default,E as handle};
//# sourceMappingURL=profile.connections-nQM8T2xY.js.map
