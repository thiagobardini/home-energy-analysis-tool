{"version":3,"file":"search-bar-DtaryT39.js","sources":["../../../app/components/search-bar.tsx"],"sourcesContent":["import { Form, useSearchParams, useSubmit } from '@remix-run/react'\nimport { useId } from 'react'\nimport { useDebounce, useIsPending } from '#app/utils/misc.tsx'\nimport { Icon } from './ui/icon.tsx'\nimport { Input } from './ui/input.tsx'\nimport { Label } from './ui/label.tsx'\nimport { StatusButton } from './ui/status-button.tsx'\n\nexport function SearchBar({\n\tstatus,\n\tautoFocus = false,\n\tautoSubmit = false,\n}: {\n\tstatus: 'idle' | 'pending' | 'success' | 'error'\n\tautoFocus?: boolean\n\tautoSubmit?: boolean\n}) {\n\tconst id = useId()\n\tconst [searchParams] = useSearchParams()\n\tconst submit = useSubmit()\n\tconst isSubmitting = useIsPending({\n\t\tformMethod: 'GET',\n\t\tformAction: '/users',\n\t})\n\n\tconst handleFormChange = useDebounce((form: HTMLFormElement) => {\n\t\tsubmit(form)\n\t}, 400)\n\n\treturn (\n\t\t<Form\n\t\t\tmethod=\"GET\"\n\t\t\taction=\"/users\"\n\t\t\tclassName=\"flex flex-wrap items-center justify-center gap-2\"\n\t\t\tonChange={e => autoSubmit && handleFormChange(e.currentTarget)}\n\t\t>\n\t\t\t<div className=\"flex-1\">\n\t\t\t\t<Label htmlFor={id} className=\"sr-only\">\n\t\t\t\t\tSearch\n\t\t\t\t</Label>\n\t\t\t\t<Input\n\t\t\t\t\ttype=\"search\"\n\t\t\t\t\tname=\"search\"\n\t\t\t\t\tid={id}\n\t\t\t\t\tdefaultValue={searchParams.get('search') ?? ''}\n\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\tautoFocus={autoFocus}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<StatusButton\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tstatus={isSubmitting ? 'pending' : status}\n\t\t\t\t\tclassName=\"flex w-full items-center justify-center\"\n\t\t\t\t>\n\t\t\t\t\t<Icon name=\"magnifying-glass\" size=\"md\" />\n\t\t\t\t\t<span className=\"sr-only\">Search</span>\n\t\t\t\t</StatusButton>\n\t\t\t</div>\n\t\t</Form>\n\t)\n}\n"],"names":["SearchBar","status","autoFocus","autoSubmit","id","useId","searchParams","useSearchParams","submit","useSubmit","isSubmitting","useIsPending","handleFormChange","useDebounce","form","jsxs","Form","jsx","Label","Input","StatusButton","Icon"],"mappings":"0RAQO,SAASA,EAAU,CACzB,OAAAC,EACA,UAAAC,EAAY,GACZ,WAAAC,EAAa,EACd,EAIG,CACF,MAAMC,EAAKC,EAAAA,QACL,CAACC,CAAY,EAAIC,IACjBC,EAASC,IACTC,EAAeC,EAAa,CACjC,WAAY,MACZ,WAAY,QAAA,CACZ,EAEKC,EAAmBC,EAAaC,GAA0B,CAC/DN,EAAOM,CAAI,GACT,GAAG,EAGL,OAAAC,EAAA,KAACC,EAAA,CACA,OAAO,MACP,OAAO,SACP,UAAU,mDACV,SAAU,GAAKb,GAAcS,EAAiB,EAAE,aAAa,EAE7D,SAAA,CAACG,EAAAA,KAAA,MAAA,CAAI,UAAU,SACd,SAAA,CAAAE,MAACC,EAAM,CAAA,QAASd,EAAI,UAAU,UAAU,SAExC,SAAA,EACAa,EAAA,IAACE,EAAA,CACA,KAAK,SACL,KAAK,SACL,GAAAf,EACA,aAAcE,EAAa,IAAI,QAAQ,GAAK,GAC5C,YAAY,SACZ,UAAU,SACV,UAAAJ,CAAA,CACD,CAAA,EACD,QACC,MACA,CAAA,SAAAa,EAAA,KAACK,EAAA,CACA,KAAK,SACL,OAAQV,EAAe,UAAYT,EACnC,UAAU,0CAEV,SAAA,CAAAgB,EAAA,IAACI,EAAK,CAAA,KAAK,mBAAmB,KAAK,KAAK,EACvCJ,EAAA,IAAA,OAAA,CAAK,UAAU,UAAU,SAAM,SAAA,CAAA,CAAA,CAAA,EAElC,CAAA,CAAA,CAAA,CAGH"}