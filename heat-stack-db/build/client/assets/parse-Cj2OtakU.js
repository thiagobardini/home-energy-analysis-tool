import{a as u,Z as b,b as g,c as O,d as v,e as w,f as P,g as h,h as D,i as T,j as _,k as j,l as E,m as I}from"./index-BeXw7Xwl.js";import{p as A,f as S}from"./helpers-CMO8ncdm.js";function y(r,n){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),a.push.apply(a,t)}return a}function o(r){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?y(Object(a),!0).forEach(function(t){F(r,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(a,t))})}return r}function F(r,n,a){return n=L(n),n in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}function M(r,n){if(typeof r!="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var t=a.call(r,n||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function L(r){var n=M(r,"string");return typeof n=="symbol"?n:String(n)}function m(r,n){if(typeof r!="string")return r;if(r!=="")return typeof n!="function"?r:n(r)}function l(r){if(!(typeof File<"u"&&r instanceof File&&r.name===""&&r.size===0))return r}function U(r){return typeof File>"u"?!1:r._def.effect.type==="refinement"&&r.innerType()._def.typeName==="ZodAny"&&r.safeParse(new File([],"")).success&&!r.safeParse("").success}function f(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Map,a=n.get(r);if(a)return a;var t=r,e=r._def;if(e.typeName==="ZodString"||e.typeName==="ZodLiteral"||e.typeName==="ZodEnum"||e.typeName==="ZodNativeEnum")t=u().transform(i=>m(i)).pipe(r);else if(e.typeName==="ZodNumber")t=u().transform(i=>m(i,s=>s.trim()===""?Number.NaN:Number(s))).pipe(r);else if(e.typeName==="ZodBoolean")t=u().transform(i=>m(i,s=>s==="on"?!0:s)).pipe(r);else if(e.typeName==="ZodDate")t=u().transform(i=>m(i,s=>{var p=new Date(s);return isNaN(p.getTime())?s:p})).pipe(r);else if(e.typeName==="ZodBigInt")t=u().transform(i=>m(i,BigInt)).pipe(r);else if(e.typeName==="ZodArray")t=u().transform(i=>Array.isArray(i)?i:typeof i>"u"||typeof l(m(i))>"u"?[]:[i]).pipe(new b(o(o({},e),{},{type:f(e.type,n)})));else if(e.typeName==="ZodObject"){var c=Object.fromEntries(Object.entries(e.shape()).map(i=>{var[s,p]=i;return[s,f(p,n)]}));t=new g(o(o({},e),{},{shape:()=>c}))}else if(e.typeName==="ZodEffects")U(r)?t=u().transform(i=>l(i)).pipe(r):t=new O(o(o({},e),{},{schema:f(e.schema,n)}));else if(e.typeName==="ZodOptional")t=u().transform(i=>l(m(i))).pipe(new v(o(o({},e),{},{innerType:f(e.innerType,n)})));else if(e.typeName==="ZodDefault")t=u().transform(i=>l(m(i))).pipe(new w(o(o({},e),{},{innerType:f(e.innerType,n)})));else if(e.typeName==="ZodCatch")t=new P(o(o({},e),{},{innerType:f(e.innerType,n)}));else if(e.typeName==="ZodIntersection")t=new h(o(o({},e),{},{left:f(e.left,n),right:f(e.right,n)}));else if(e.typeName==="ZodUnion")t=new D(o(o({},e),{},{options:e.options.map(i=>f(i,n))}));else if(e.typeName==="ZodDiscriminatedUnion")t=new T(o(o({},e),{},{options:e.options.map(i=>f(i,n)),optionsMap:new Map(Array.from(e.optionsMap.entries()).map(i=>{var[s,p]=i;return[s,f(p,n)]}))}));else if(e.typeName==="ZodTuple")t=new _(o(o({},e),{},{items:e.items.map(i=>f(i,n))}));else if(e.typeName==="ZodNullable")t=new j(o(o({},e),{},{innerType:f(e.innerType,n)}));else if(e.typeName==="ZodPipeline")t=new E(o(o({},e),{},{in:f(e.in,n),out:f(e.out,n)}));else if(e.typeName==="ZodLazy"){var d=e.getter();t=I(()=>f(d,n))}return r!==t&&n.set(r,t),t}function K(r,n){var a={};for(var t of r.errors){var e=S(t.path);switch(t.message){case N.VALIDATION_UNDEFINED:return null;case N.VALIDATION_SKIPPED:a[e]=null;break;default:{var c=a[e];c!==null&&(c?a[e]=c.concat(t):a[e]=[t]);break}}}return Object.entries(a).reduce((d,i)=>{var[s,p]=i;return d[s]=p?n(p):null,d},{})}function z(r,n){return A(r,{resolve(a,t){var e=n.errorMap,c=f(typeof n.schema=="function"?n.schema(t):n.schema),d=i=>{var s;return{value:i.success?i.data:void 0,error:i.success?void 0:K(i.error,(s=n.formatError)!==null&&s!==void 0?s:p=>p.map(Z=>Z.message))}};return n.async?c.safeParseAsync(a,{errorMap:e}).then(i=>d(i)):d(c.safeParse(a,{errorMap:e}))}})}var N={VALIDATION_SKIPPED:"__skipped__",VALIDATION_UNDEFINED:"__undefined__"};export{o as _,z as p};
//# sourceMappingURL=parse-Cj2OtakU.js.map
